// Generated by CoffeeScript 1.7.1
var FT_Sensor, adaptCanvasSize, computeColor, extractLimits, flashLED, lerp, socket, use_socket;

use_socket = true;

if (use_socket) {
  socket = io.connect(':6060');
} else {
  window.serial_stateRef = new Firebase('http://drc-hubo.firebaseIO.com/serial_state');
}

window.ledTimeoutId = null;

flashLED = function() {
  window.clearTimeout(window.ledTimeoutId);
  $('#led').show();
  return window.ledTimeoutId = setTimeout(function() {
    return $('#led').hide();
  }, 100);
};

FT_Sensor = (function() {
  function FT_Sensor(name) {
    this.name = name;
    this.m_x_obj = new THREE.ArrowHelper(new THREE.Vector3(1, 0, 0), new THREE.Vector3(0, 0, 0), 0.15, 0xFF0000);
    this.m_y_obj = new THREE.ArrowHelper(new THREE.Vector3(0, 1, 0), new THREE.Vector3(0, 0, 0), 0.15, 0x00FF00);
    this.f_z_obj = new THREE.ArrowHelper(new THREE.Vector3(0, 0, -1), new THREE.Vector3(0, 0, 0), 0.15, 0x0000FF);
    this.axis = new THREE.Object3D();
    this.axis.add(this.m_x_obj);
    this.axis.add(this.m_y_obj);
    this.axis.add(this.f_z_obj);
  }

  FT_Sensor.prototype.updateColor = function(o) {
    var fz_gradient, mx_gradient, my_gradient;
    mx_gradient = lerp(o.mx_min, o.mx_max, 0, this.m_x);
    my_gradient = lerp(o.my_min, o.my_max, 0, this.m_y);
    fz_gradient = lerp(o.fz_min, o.fz_max, 0, this.f_z);
    this.axis.children[0].setColor(computeColor(mx_gradient).getHex());
    this.axis.children[1].setColor(computeColor(my_gradient).getHex());
    return this.axis.children[2].setColor(computeColor(fz_gradient).getHex());
  };

  return FT_Sensor;

})();

computeColor = function(t) {
  var temp, y;
  temp = new THREE.Color();
  y = $('#color_limits .y_threshold').val();
  if (t > y) {
    console.log("t>y");
    temp.setRGB(1, 1 - lerp(y, 1, 0, t), 0);
    console.log(temp);
  } else {
    temp.setRGB(lerp(0, y, 0, t), 1, 0);
  }
  return temp;
};

lerp = function(min, max, zero, t) {
  if (t > max) {
    t = max;
  }
  if (t < min) {
    t = min;
  }
  if (t < zero) {
    return Math.min((zero - t) / (zero - min), 1);
  } else {
    return Math.min((t - zero) / (max - zero), 1);
  }
};

extractLimits = function(el) {
  var o;
  o = {};
  o.mx_min = $(el).find(".m_x_min").val();
  o.mx_max = $(el).find(".m_x_max").val();
  o.my_min = $(el).find(".m_y_min").val();
  o.my_max = $(el).find(".m_y_max").val();
  o.fz_min = $(el).find(".f_z_min").val();
  o.fz_max = $(el).find(".f_z_max").val();
  return o;
};

adaptCanvasSize = function() {
  var height, width;
  if (document.webkitIsFullScreen) {
    width = $(window).width();
    height = $(window).height();
  } else {
    width = Math.min($(window).width(), $(window).height());
    height = width;
  }
  $('#hubo_container').width(width);
  $('#hubo_container').height(height);
  return hubo.canvas.resize(width, height);
};

$(document).ready(function() {
  var c, callback, progress, size;
  window.stats = new Stats();
  stats.setMode(0);
  $('#hubo_container').append(stats.domElement);
  stats.domElement.style.position = 'relative';
  stats.domElement.style.float = 'right';
  $(window).on('orientationchange resize', function() {
    return setTimeout(adaptCanvasSize, 500);
  });
  size = Math.min($(window).width(), $(window).height());
  $('#hubo_container').width(size);
  $('#hubo_container').height(size);
  c = new Hubo.DefaultCanvas("#hubo_container");
  window.texture = THREE.ImageUtils.loadTexture('checkerboard.png', THREE.Linear);
  texture.wrapS = THREE.RepeatWrapping;
  texture.wrapT = THREE.RepeatWrapping;
  texture.repeat.x = 20;
  texture.repeat.y = 20;
  return window.hubo = new Hubo("dirk", callback = function() {
    var floorG, floorM, updateModel;
    c.add(hubo);
    hubo.autorender = false;
    $("#load").hide();
    floorG = new THREE.PlaneGeometry(20, 20);
    floorM = new THREE.MeshBasicMaterial({
      map: texture
    });
    window.floor = new THREE.Mesh(floorG, floorM);
    floor.position.z = -1.17;
    floor.overdraw = true;
    c.scene.add(floor);
    if (hubo.ft == null) {
      hubo.ft = {};
    }
    hubo.ft.HUBO_FT_R_HAND = new FT_Sensor();
    hubo.ft.HUBO_FT_L_HAND = new FT_Sensor();
    hubo.ft.HUBO_FT_R_FOOT = new FT_Sensor();
    hubo.ft.HUBO_FT_L_FOOT = new FT_Sensor();
    hubo.links.Body_RWR.add(hubo.ft.HUBO_FT_R_HAND.axis);
    hubo.links.Body_LWR.add(hubo.ft.HUBO_FT_L_HAND.axis);
    hubo.links.Body_RAR.add(hubo.ft.HUBO_FT_R_FOOT.axis);
    hubo.links.Body_LAR.add(hubo.ft.HUBO_FT_L_FOOT.axis);
    hubo.ft.HUBO_FT_R_HAND.axis.position = new THREE.Vector3(0.1, 0, 0);
    hubo.ft.HUBO_FT_L_HAND.axis.position = new THREE.Vector3(0.1, 0, 0);
    hubo.ft.HUBO_FT_R_FOOT.axis.position = new THREE.Vector3(-0.05, 0, -0.15);
    hubo.ft.HUBO_FT_L_FOOT.axis.position = new THREE.Vector3(-0.05, 0, -0.15);
    hubo.ft.HUBO_FT_R_HAND.axis.rotation.y = -Math.PI / 2;
    hubo.ft.HUBO_FT_L_HAND.axis.rotation.y = -Math.PI / 2;
    updateModel = function(serial_state) {
      var foot_limits, hand_limits, jointType, state;
      state = JSON.parse(serial_state);
      jointType = $('#joint-toggle').val();
      hand_limits = extractLimits($('#ft_hand_limits'));
      foot_limits = extractLimits($('#ft_foot_limits'));
      hubo.ft["HUBO_FT_R_HAND"].m_x = state.ft[0];
      hubo.ft["HUBO_FT_R_HAND"].m_y = state.ft[1];
      hubo.ft["HUBO_FT_R_HAND"].f_z = state.ft[2];
      hubo.ft["HUBO_FT_R_HAND"].updateColor(hand_limits);
      hubo.ft["HUBO_FT_L_HAND"].m_x = state.ft[3];
      hubo.ft["HUBO_FT_L_HAND"].m_y = state.ft[4];
      hubo.ft["HUBO_FT_L_HAND"].f_z = state.ft[5];
      hubo.ft["HUBO_FT_L_HAND"].updateColor(hand_limits);
      hubo.ft["HUBO_FT_R_FOOT"].m_x = state.ft[6];
      hubo.ft["HUBO_FT_R_FOOT"].m_y = state.ft[7];
      hubo.ft["HUBO_FT_R_FOOT"].f_z = state.ft[8];
      hubo.ft["HUBO_FT_R_FOOT"].updateColor(foot_limits);
      hubo.ft["HUBO_FT_L_FOOT"].m_x = state.ft[9];
      hubo.ft["HUBO_FT_L_FOOT"].m_y = state.ft[10];
      hubo.ft["HUBO_FT_L_FOOT"].f_z = state.ft[11];
      hubo.ft["HUBO_FT_L_FOOT"].updateColor(foot_limits);
      hubo.links.Body_Torso.rotation.x = state.imu[2].a_x;
      hubo.links.Body_Torso.rotation.y = state.imu[2].a_y;
      hubo.motors["WST"].value = state[jointType][0];
      hubo.motors["NKY"].value = state[jointType][1];
      hubo.motors["NK1"].value = state[jointType][2];
      hubo.motors["NK2"].value = state[jointType][3];
      hubo.motors["LSP"].value = state[jointType][4];
      hubo.motors["LSR"].value = state[jointType][5];
      hubo.motors["LSY"].value = state[jointType][6];
      hubo.motors["LEB"].value = state[jointType][7];
      hubo.motors["LWY"].value = state[jointType][8];
      hubo.motors["LWR"].value = state[jointType][9];
      hubo.motors["LWP"].value = state[jointType][10];
      hubo.motors["RSP"].value = state[jointType][11];
      hubo.motors["RSR"].value = state[jointType][12];
      hubo.motors["RSY"].value = state[jointType][13];
      hubo.motors["REB"].value = state[jointType][14];
      hubo.motors["RWY"].value = state[jointType][15];
      hubo.motors["RWR"].value = state[jointType][16];
      hubo.motors["RWP"].value = state[jointType][17];
      hubo.motors["LHY"].value = state[jointType][19];
      hubo.motors["LHR"].value = state[jointType][20];
      hubo.motors["LHP"].value = state[jointType][21];
      hubo.motors["LKN"].value = state[jointType][22];
      hubo.motors["LAP"].value = state[jointType][23];
      hubo.motors["LAR"].value = state[jointType][24];
      hubo.motors["RHY"].value = state[jointType][26];
      hubo.motors["RHR"].value = state[jointType][27];
      hubo.motors["RHP"].value = state[jointType][28];
      hubo.motors["RKN"].value = state[jointType][29];
      hubo.motors["RAP"].value = state[jointType][30];
      hubo.motors["RAR"].value = state[jointType][31];
      hubo.motors["RF1"].value = state[jointType][32];
      hubo.motors["LF1"].value = state[jointType][37];
      hubo.canvas.render();
      stats.end();
      return stats.begin();
    };
    if (use_socket) {
      socket.on('serial_state', function(serial_state) {
        window.serial_state = serial_state;
        flashLED();
        return updateModel(serial_state);
      });
    } else {
      serial_stateRef.on('value', function(snapshot) {
        var serial_state;
        serial_state = snapshot.val();
        window.serial_state = serial_state;
        flashLED();
        return updateModel(serial_state);
      });
    }
    $('#joint-toggle').on('slidestop', function() {
      return updateModel(window.serial_state);
    });
    $('#fullscreen-toggle').on('slidestop', function() {
      if ($('#fullscreen-toggle').val() === "on") {
        if (document.webkitFullscreenEnabled) {
          return document.getElementById('hubo_container').webkitRequestFullscreen();
        }
      } else {
        if (document.webkitFullscreenEnabled) {
          return document.webkitExitFullscreen();
        }
      }
    });
    $(document).on('webkitfullscreenchange', function() {
      if (document.webkitIsFullScreen) {
        setTimeout(adaptCanvasSize, 500);
        return $('#fullscreen-toggle').val("on").slider("refresh");
      } else {
        setTimeout(adaptCanvasSize, 500);
        return $('#fullscreen-toggle').val("off").slider("refresh");
      }
    });
    return c.render();
  }, progress = function(step, total, node) {
    return $("#load").html("Loading " + step + "/" + total);
  });
});

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIvZHJjL2xpdmUvaW5kZXguanMiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL2RyYy9saXZlL2luZGV4LmpzLmNvZmZlZSIKICBdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICI7QUFBQSxJQUFBLDJGQUFBOztBQUFBLFVBQUEsR0FBYSxJQUFiLENBQUE7O0FBRUEsSUFBSSxVQUFKO0FBQ0UsRUFBQSxNQUFBLEdBQVMsRUFBRSxDQUFDLE9BQUgsQ0FBVyxPQUFYLENBQVQsQ0FERjtDQUFBLE1BQUE7QUFNRSxFQUFBLE1BQU0sQ0FBQyxlQUFQLEdBQTZCLElBQUEsUUFBQSxDQUFTLDZDQUFULENBQTdCLENBTkY7Q0FGQTs7QUFBQSxNQVVNLENBQUMsWUFBUCxHQUFzQixJQVZ0QixDQUFBOztBQUFBLFFBV0EsR0FBVyxTQUFBLEdBQUE7QUFFVCxFQUFBLE1BQU0sQ0FBQyxZQUFQLENBQW9CLE1BQU0sQ0FBQyxZQUEzQixDQUFBLENBQUE7QUFBQSxFQUNBLENBQUEsQ0FBRSxNQUFGLENBQVMsQ0FBQyxJQUFWLENBQUEsQ0FEQSxDQUFBO1NBR0EsTUFBTSxDQUFDLFlBQVAsR0FBc0IsVUFBQSxDQUFXLFNBQUEsR0FBQTtXQUMvQixDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsSUFBVixDQUFBLEVBRCtCO0VBQUEsQ0FBWCxFQUVwQixHQUZvQixFQUxiO0FBQUEsQ0FYWCxDQUFBOztBQUFBO0FBMEJlLEVBQUEsbUJBQUUsSUFBRixHQUFBO0FBRVgsSUFGWSxJQUFDLENBQUEsT0FBQSxJQUViLENBQUE7QUFBQSxJQUFBLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxLQUFLLENBQUMsV0FBTixDQUFzQixJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFrQixDQUFsQixDQUF0QixFQUFnRCxJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFrQixDQUFsQixDQUFoRCxFQUFxRSxJQUFyRSxFQUEwRSxRQUExRSxDQUFmLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxLQUFLLENBQUMsV0FBTixDQUFzQixJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFrQixDQUFsQixDQUF0QixFQUFnRCxJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFrQixDQUFsQixDQUFoRCxFQUFxRSxJQUFyRSxFQUEwRSxRQUExRSxDQURmLENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxLQUFLLENBQUMsV0FBTixDQUFzQixJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFrQixDQUFBLENBQWxCLENBQXRCLEVBQWlELElBQUEsS0FBSyxDQUFDLE9BQU4sQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQWtCLENBQWxCLENBQWpELEVBQXNFLElBQXRFLEVBQTJFLFFBQTNFLENBRmYsQ0FBQTtBQUFBLElBR0EsSUFBQyxDQUFBLElBQUQsR0FBWSxJQUFBLEtBQUssQ0FBQyxRQUFOLENBQUEsQ0FIWixDQUFBO0FBQUEsSUFJQSxJQUFDLENBQUEsSUFBSSxDQUFDLEdBQU4sQ0FBVSxJQUFDLENBQUEsT0FBWCxDQUpBLENBQUE7QUFBQSxJQUtBLElBQUMsQ0FBQSxJQUFJLENBQUMsR0FBTixDQUFVLElBQUMsQ0FBQSxPQUFYLENBTEEsQ0FBQTtBQUFBLElBTUEsSUFBQyxDQUFBLElBQUksQ0FBQyxHQUFOLENBQVUsSUFBQyxDQUFBLE9BQVgsQ0FOQSxDQUZXO0VBQUEsQ0FBYjs7QUFBQSxzQkFTQSxXQUFBLEdBQWEsU0FBQyxDQUFELEdBQUE7QUFHWCxRQUFBLHFDQUFBO0FBQUEsSUFBQSxXQUFBLEdBQWMsSUFBQSxDQUFLLENBQUMsQ0FBQyxNQUFQLEVBQWUsQ0FBQyxDQUFDLE1BQWpCLEVBQXlCLENBQXpCLEVBQTRCLElBQUMsQ0FBQSxHQUE3QixDQUFkLENBQUE7QUFBQSxJQUVBLFdBQUEsR0FBYyxJQUFBLENBQUssQ0FBQyxDQUFDLE1BQVAsRUFBZSxDQUFDLENBQUMsTUFBakIsRUFBeUIsQ0FBekIsRUFBNEIsSUFBQyxDQUFBLEdBQTdCLENBRmQsQ0FBQTtBQUFBLElBR0EsV0FBQSxHQUFjLElBQUEsQ0FBSyxDQUFDLENBQUMsTUFBUCxFQUFlLENBQUMsQ0FBQyxNQUFqQixFQUF5QixDQUF6QixFQUE0QixJQUFDLENBQUEsR0FBN0IsQ0FIZCxDQUFBO0FBQUEsSUFLQSxJQUFDLENBQUEsSUFBSSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxRQUFsQixDQUEyQixZQUFBLENBQWEsV0FBYixDQUF5QixDQUFDLE1BQTFCLENBQUEsQ0FBM0IsQ0FMQSxDQUFBO0FBQUEsSUFNQSxJQUFDLENBQUEsSUFBSSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxRQUFsQixDQUEyQixZQUFBLENBQWEsV0FBYixDQUF5QixDQUFDLE1BQTFCLENBQUEsQ0FBM0IsQ0FOQSxDQUFBO1dBT0EsSUFBQyxDQUFBLElBQUksQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsUUFBbEIsQ0FBMkIsWUFBQSxDQUFhLFdBQWIsQ0FBeUIsQ0FBQyxNQUExQixDQUFBLENBQTNCLEVBVlc7RUFBQSxDQVRiLENBQUE7O21CQUFBOztJQTFCRixDQUFBOztBQUFBLFlBeURBLEdBQWUsU0FBQyxDQUFELEdBQUE7QUFDYixNQUFBLE9BQUE7QUFBQSxFQUFBLElBQUEsR0FBVyxJQUFBLEtBQUssQ0FBQyxLQUFOLENBQUEsQ0FBWCxDQUFBO0FBQUEsRUFDQSxDQUFBLEdBQUksQ0FBQSxDQUFFLDRCQUFGLENBQStCLENBQUMsR0FBaEMsQ0FBQSxDQURKLENBQUE7QUFFQSxFQUFBLElBQUcsQ0FBQSxHQUFJLENBQVA7QUFDRSxJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksS0FBWixDQUFBLENBQUE7QUFBQSxJQUNBLElBQUksQ0FBQyxNQUFMLENBQ0UsQ0FERixFQUVFLENBQUEsR0FBRSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxDQUZKLEVBR0UsQ0FIRixDQURBLENBQUE7QUFBQSxJQUtBLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBWixDQUxBLENBREY7R0FBQSxNQUFBO0FBUUUsSUFBQSxJQUFJLENBQUMsTUFBTCxDQUNFLElBQUEsQ0FBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLENBQVQsRUFBVyxDQUFYLENBREYsRUFFRSxDQUZGLEVBR0UsQ0FIRixDQUFBLENBUkY7R0FGQTtBQWNBLFNBQU8sSUFBUCxDQWZhO0FBQUEsQ0F6RGYsQ0FBQTs7QUFBQSxJQXlFQSxHQUFPLFNBQUMsR0FBRCxFQUFLLEdBQUwsRUFBUyxJQUFULEVBQWMsQ0FBZCxHQUFBO0FBQ0wsRUFBQSxJQUFHLENBQUEsR0FBSSxHQUFQO0FBQ0UsSUFBQSxDQUFBLEdBQUksR0FBSixDQURGO0dBQUE7QUFFQSxFQUFBLElBQUcsQ0FBQSxHQUFJLEdBQVA7QUFDRSxJQUFBLENBQUEsR0FBSSxHQUFKLENBREY7R0FGQTtBQUlBLEVBQUEsSUFBRyxDQUFBLEdBQUksSUFBUDtBQUNFLFdBQU8sSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFDLElBQUEsR0FBSyxDQUFOLENBQUEsR0FBUyxDQUFDLElBQUEsR0FBSyxHQUFOLENBQWxCLEVBQTZCLENBQTdCLENBQVAsQ0FERjtHQUFBLE1BQUE7QUFHRSxXQUFPLElBQUksQ0FBQyxHQUFMLENBQVMsQ0FBQyxDQUFBLEdBQUUsSUFBSCxDQUFBLEdBQVMsQ0FBQyxHQUFBLEdBQUksSUFBTCxDQUFsQixFQUE2QixDQUE3QixDQUFQLENBSEY7R0FMSztBQUFBLENBekVQLENBQUE7O0FBQUEsYUFtRkEsR0FBZ0IsU0FBQyxFQUFELEdBQUE7QUFDZCxNQUFBLENBQUE7QUFBQSxFQUFBLENBQUEsR0FBSSxFQUFKLENBQUE7QUFBQSxFQUNBLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBQSxDQUFFLEVBQUYsQ0FBSyxDQUFDLElBQU4sQ0FBVyxVQUFYLENBQXNCLENBQUMsR0FBdkIsQ0FBQSxDQURYLENBQUE7QUFBQSxFQUVBLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBQSxDQUFFLEVBQUYsQ0FBSyxDQUFDLElBQU4sQ0FBVyxVQUFYLENBQXNCLENBQUMsR0FBdkIsQ0FBQSxDQUZYLENBQUE7QUFBQSxFQUtBLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBQSxDQUFFLEVBQUYsQ0FBSyxDQUFDLElBQU4sQ0FBVyxVQUFYLENBQXNCLENBQUMsR0FBdkIsQ0FBQSxDQUxYLENBQUE7QUFBQSxFQU1BLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBQSxDQUFFLEVBQUYsQ0FBSyxDQUFDLElBQU4sQ0FBVyxVQUFYLENBQXNCLENBQUMsR0FBdkIsQ0FBQSxDQU5YLENBQUE7QUFBQSxFQU9BLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBQSxDQUFFLEVBQUYsQ0FBSyxDQUFDLElBQU4sQ0FBVyxVQUFYLENBQXNCLENBQUMsR0FBdkIsQ0FBQSxDQVBYLENBQUE7QUFBQSxFQVFBLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBQSxDQUFFLEVBQUYsQ0FBSyxDQUFDLElBQU4sQ0FBVyxVQUFYLENBQXNCLENBQUMsR0FBdkIsQ0FBQSxDQVJYLENBQUE7QUFTQSxTQUFPLENBQVAsQ0FWYztBQUFBLENBbkZoQixDQUFBOztBQUFBLGVBK0ZBLEdBQWtCLFNBQUEsR0FBQTtBQUNoQixNQUFBLGFBQUE7QUFBQSxFQUFBLElBQUksUUFBUSxDQUFDLGtCQUFiO0FBQ0UsSUFBQSxLQUFBLEdBQVEsQ0FBQSxDQUFFLE1BQUYsQ0FBUyxDQUFDLEtBQVYsQ0FBQSxDQUFSLENBQUE7QUFBQSxJQUNBLE1BQUEsR0FBUyxDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsTUFBVixDQUFBLENBRFQsQ0FERjtHQUFBLE1BQUE7QUFJRSxJQUFBLEtBQUEsR0FBUSxJQUFJLENBQUMsR0FBTCxDQUFTLENBQUEsQ0FBRSxNQUFGLENBQVMsQ0FBQyxLQUFWLENBQUEsQ0FBVCxFQUE0QixDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsTUFBVixDQUFBLENBQTVCLENBQVIsQ0FBQTtBQUFBLElBQ0EsTUFBQSxHQUFTLEtBRFQsQ0FKRjtHQUFBO0FBQUEsRUFNQSxDQUFBLENBQUUsaUJBQUYsQ0FBb0IsQ0FBQyxLQUFyQixDQUEyQixLQUEzQixDQU5BLENBQUE7QUFBQSxFQU9BLENBQUEsQ0FBRSxpQkFBRixDQUFvQixDQUFDLE1BQXJCLENBQTRCLE1BQTVCLENBUEEsQ0FBQTtTQVFBLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBWixDQUFtQixLQUFuQixFQUEwQixNQUExQixFQVRnQjtBQUFBLENBL0ZsQixDQUFBOztBQUFBLENBNkdBLENBQUcsUUFBSCxDQUFhLENBQUMsS0FBZCxDQUFvQixTQUFBLEdBQUE7QUFJbEIsTUFBQSwyQkFBQTtBQUFBLEVBQUEsTUFBTSxDQUFDLEtBQVAsR0FBbUIsSUFBQSxLQUFBLENBQUEsQ0FBbkIsQ0FBQTtBQUFBLEVBQ0EsS0FBSyxDQUFDLE9BQU4sQ0FBYyxDQUFkLENBREEsQ0FBQTtBQUFBLEVBRUEsQ0FBQSxDQUFFLGlCQUFGLENBQW9CLENBQUMsTUFBckIsQ0FBNEIsS0FBSyxDQUFDLFVBQWxDLENBRkEsQ0FBQTtBQUFBLEVBR0EsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBdkIsR0FBa0MsVUFIbEMsQ0FBQTtBQUFBLEVBSUEsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBdkIsR0FBK0IsT0FKL0IsQ0FBQTtBQUFBLEVBTUEsQ0FBQSxDQUFFLE1BQUYsQ0FBUyxDQUFDLEVBQVYsQ0FBYSwwQkFBYixFQUF5QyxTQUFBLEdBQUE7V0FHdkMsVUFBQSxDQUFXLGVBQVgsRUFBNEIsR0FBNUIsRUFIdUM7RUFBQSxDQUF6QyxDQU5BLENBQUE7QUFBQSxFQWdCQSxJQUFBLEdBQU8sSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsS0FBVixDQUFBLENBQVQsRUFBNEIsQ0FBQSxDQUFFLE1BQUYsQ0FBUyxDQUFDLE1BQVYsQ0FBQSxDQUE1QixDQWhCUCxDQUFBO0FBQUEsRUFpQkEsQ0FBQSxDQUFFLGlCQUFGLENBQW9CLENBQUMsS0FBckIsQ0FBMkIsSUFBM0IsQ0FqQkEsQ0FBQTtBQUFBLEVBa0JBLENBQUEsQ0FBRSxpQkFBRixDQUFvQixDQUFDLE1BQXJCLENBQTRCLElBQTVCLENBbEJBLENBQUE7QUFBQSxFQW1CQSxDQUFBLEdBQVEsSUFBQSxJQUFJLENBQUMsYUFBTCxDQUFtQixpQkFBbkIsQ0FuQlIsQ0FBQTtBQUFBLEVBcUJBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLEtBQUssQ0FBQyxVQUFVLENBQUMsV0FBakIsQ0FBNkIsa0JBQTdCLEVBQWlELEtBQUssQ0FBQyxNQUF2RCxDQXJCakIsQ0FBQTtBQUFBLEVBc0JBLE9BQU8sQ0FBQyxLQUFSLEdBQWdCLEtBQUssQ0FBQyxjQXRCdEIsQ0FBQTtBQUFBLEVBdUJBLE9BQU8sQ0FBQyxLQUFSLEdBQWdCLEtBQUssQ0FBQyxjQXZCdEIsQ0FBQTtBQUFBLEVBd0JBLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBZixHQUFtQixFQXhCbkIsQ0FBQTtBQUFBLEVBeUJBLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBZixHQUFtQixFQXpCbkIsQ0FBQTtTQTJCQSxNQUFNLENBQUMsSUFBUCxHQUFrQixJQUFBLElBQUEsQ0FBSyxNQUFMLEVBQWEsUUFBQSxHQUFXLFNBQUEsR0FBQTtBQUd4QyxRQUFBLDJCQUFBO0FBQUEsSUFBQSxDQUFDLENBQUMsR0FBRixDQUFNLElBQU4sQ0FBQSxDQUFBO0FBQUEsSUFHQSxJQUFJLENBQUMsVUFBTCxHQUFrQixLQUhsQixDQUFBO0FBQUEsSUFJQSxDQUFBLENBQUUsT0FBRixDQUFVLENBQUMsSUFBWCxDQUFBLENBSkEsQ0FBQTtBQUFBLElBT0EsTUFBQSxHQUFhLElBQUEsS0FBSyxDQUFDLGFBQU4sQ0FBb0IsRUFBcEIsRUFBd0IsRUFBeEIsQ0FQYixDQUFBO0FBQUEsSUFRQSxNQUFBLEdBQWEsSUFBQSxLQUFLLENBQUMsaUJBQU4sQ0FBd0I7QUFBQSxNQUFDLEdBQUEsRUFBSyxPQUFOO0tBQXhCLENBUmIsQ0FBQTtBQUFBLElBU0EsTUFBTSxDQUFDLEtBQVAsR0FBbUIsSUFBQSxLQUFLLENBQUMsSUFBTixDQUFXLE1BQVgsRUFBbUIsTUFBbkIsQ0FUbkIsQ0FBQTtBQUFBLElBV0EsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFmLEdBQW1CLENBQUEsSUFYbkIsQ0FBQTtBQUFBLElBWUEsS0FBSyxDQUFDLFFBQU4sR0FBaUIsSUFaakIsQ0FBQTtBQUFBLElBYUEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFSLENBQVksS0FBWixDQWJBLENBQUE7QUFnQkEsSUFBQSxJQUFPLGVBQVA7QUFDRSxNQUFBLElBQUksQ0FBQyxFQUFMLEdBQVUsRUFBVixDQURGO0tBaEJBO0FBQUEsSUFrQkEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFSLEdBQTZCLElBQUEsU0FBQSxDQUFBLENBbEI3QixDQUFBO0FBQUEsSUFtQkEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFSLEdBQTZCLElBQUEsU0FBQSxDQUFBLENBbkI3QixDQUFBO0FBQUEsSUFvQkEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFSLEdBQTZCLElBQUEsU0FBQSxDQUFBLENBcEI3QixDQUFBO0FBQUEsSUFxQkEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFSLEdBQTZCLElBQUEsU0FBQSxDQUFBLENBckI3QixDQUFBO0FBQUEsSUF3QkEsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBcEIsQ0FBd0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBL0MsQ0F4QkEsQ0FBQTtBQUFBLElBeUJBLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQXBCLENBQXdCLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQS9DLENBekJBLENBQUE7QUFBQSxJQTBCQSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFwQixDQUF3QixJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxJQUEvQyxDQTFCQSxDQUFBO0FBQUEsSUEyQkEsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBcEIsQ0FBd0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBL0MsQ0EzQkEsQ0FBQTtBQUFBLElBOEJBLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUE1QixHQUEyQyxJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsR0FBZCxFQUFrQixDQUFsQixFQUFvQixDQUFwQixDQTlCM0MsQ0FBQTtBQUFBLElBK0JBLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUE1QixHQUEyQyxJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsR0FBZCxFQUFrQixDQUFsQixFQUFvQixDQUFwQixDQS9CM0MsQ0FBQTtBQUFBLElBZ0NBLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUE1QixHQUEyQyxJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBQSxJQUFkLEVBQW9CLENBQXBCLEVBQXNCLENBQUEsSUFBdEIsQ0FoQzNDLENBQUE7QUFBQSxJQWlDQSxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBNUIsR0FBMkMsSUFBQSxLQUFLLENBQUMsT0FBTixDQUFjLENBQUEsSUFBZCxFQUFvQixDQUFwQixFQUFzQixDQUFBLElBQXRCLENBakMzQyxDQUFBO0FBQUEsSUFtQ0EsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFyQyxHQUF5QyxDQUFBLElBQUssQ0FBQyxFQUFOLEdBQVMsQ0FuQ2xELENBQUE7QUFBQSxJQW9DQSxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQXJDLEdBQXlDLENBQUEsSUFBSyxDQUFDLEVBQU4sR0FBUyxDQXBDbEQsQ0FBQTtBQUFBLElBc0NBLFdBQUEsR0FBYyxTQUFDLFlBQUQsR0FBQTtBQUNaLFVBQUEsMENBQUE7QUFBQSxNQUFBLEtBQUEsR0FBUSxJQUFJLENBQUMsS0FBTCxDQUFXLFlBQVgsQ0FBUixDQUFBO0FBQUEsTUFHQSxTQUFBLEdBQVksQ0FBQSxDQUFFLGVBQUYsQ0FBa0IsQ0FBQyxHQUFuQixDQUFBLENBSFosQ0FBQTtBQUFBLE1BTUEsV0FBQSxHQUFjLGFBQUEsQ0FBYyxDQUFBLENBQUUsaUJBQUYsQ0FBZCxDQU5kLENBQUE7QUFBQSxNQU9BLFdBQUEsR0FBYyxhQUFBLENBQWMsQ0FBQSxDQUFFLGlCQUFGLENBQWQsQ0FQZCxDQUFBO0FBQUEsTUFRQSxJQUFJLENBQUMsRUFBRyxDQUFBLGdCQUFBLENBQWlCLENBQUMsR0FBMUIsR0FBZ0MsS0FBSyxDQUFDLEVBQUcsQ0FBQSxDQUFBLENBUnpDLENBQUE7QUFBQSxNQVVBLElBQUksQ0FBQyxFQUFHLENBQUEsZ0JBQUEsQ0FBaUIsQ0FBQyxHQUExQixHQUFnQyxLQUFLLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FWekMsQ0FBQTtBQUFBLE1BV0EsSUFBSSxDQUFDLEVBQUcsQ0FBQSxnQkFBQSxDQUFpQixDQUFDLEdBQTFCLEdBQWdDLEtBQUssQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQVh6QyxDQUFBO0FBQUEsTUFZQSxJQUFJLENBQUMsRUFBRyxDQUFBLGdCQUFBLENBQWlCLENBQUMsV0FBMUIsQ0FBc0MsV0FBdEMsQ0FaQSxDQUFBO0FBQUEsTUFhQSxJQUFJLENBQUMsRUFBRyxDQUFBLGdCQUFBLENBQWlCLENBQUMsR0FBMUIsR0FBZ0MsS0FBSyxDQUFDLEVBQUcsQ0FBQSxDQUFBLENBYnpDLENBQUE7QUFBQSxNQWNBLElBQUksQ0FBQyxFQUFHLENBQUEsZ0JBQUEsQ0FBaUIsQ0FBQyxHQUExQixHQUFnQyxLQUFLLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FkekMsQ0FBQTtBQUFBLE1BZUEsSUFBSSxDQUFDLEVBQUcsQ0FBQSxnQkFBQSxDQUFpQixDQUFDLEdBQTFCLEdBQWdDLEtBQUssQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQWZ6QyxDQUFBO0FBQUEsTUFnQkEsSUFBSSxDQUFDLEVBQUcsQ0FBQSxnQkFBQSxDQUFpQixDQUFDLFdBQTFCLENBQXNDLFdBQXRDLENBaEJBLENBQUE7QUFBQSxNQWlCQSxJQUFJLENBQUMsRUFBRyxDQUFBLGdCQUFBLENBQWlCLENBQUMsR0FBMUIsR0FBZ0MsS0FBSyxDQUFDLEVBQUcsQ0FBQSxDQUFBLENBakJ6QyxDQUFBO0FBQUEsTUFrQkEsSUFBSSxDQUFDLEVBQUcsQ0FBQSxnQkFBQSxDQUFpQixDQUFDLEdBQTFCLEdBQWdDLEtBQUssQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQWxCekMsQ0FBQTtBQUFBLE1BbUJBLElBQUksQ0FBQyxFQUFHLENBQUEsZ0JBQUEsQ0FBaUIsQ0FBQyxHQUExQixHQUFnQyxLQUFLLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FuQnpDLENBQUE7QUFBQSxNQW9CQSxJQUFJLENBQUMsRUFBRyxDQUFBLGdCQUFBLENBQWlCLENBQUMsV0FBMUIsQ0FBc0MsV0FBdEMsQ0FwQkEsQ0FBQTtBQUFBLE1BcUJBLElBQUksQ0FBQyxFQUFHLENBQUEsZ0JBQUEsQ0FBaUIsQ0FBQyxHQUExQixHQUFnQyxLQUFLLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FyQnpDLENBQUE7QUFBQSxNQXNCQSxJQUFJLENBQUMsRUFBRyxDQUFBLGdCQUFBLENBQWlCLENBQUMsR0FBMUIsR0FBZ0MsS0FBSyxDQUFDLEVBQUcsQ0FBQSxFQUFBLENBdEJ6QyxDQUFBO0FBQUEsTUF1QkEsSUFBSSxDQUFDLEVBQUcsQ0FBQSxnQkFBQSxDQUFpQixDQUFDLEdBQTFCLEdBQWdDLEtBQUssQ0FBQyxFQUFHLENBQUEsRUFBQSxDQXZCekMsQ0FBQTtBQUFBLE1Bd0JBLElBQUksQ0FBQyxFQUFHLENBQUEsZ0JBQUEsQ0FBaUIsQ0FBQyxXQUExQixDQUFzQyxXQUF0QyxDQXhCQSxDQUFBO0FBQUEsTUEyQkEsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQS9CLEdBQW1DLEtBQUssQ0FBQyxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsR0EzQmhELENBQUE7QUFBQSxNQTRCQSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBL0IsR0FBbUMsS0FBSyxDQUFDLEdBQUksQ0FBQSxDQUFBLENBQUUsQ0FBQyxHQTVCaEQsQ0FBQTtBQUFBLE1BK0JBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLENBQUEsQ0EvQjVDLENBQUE7QUFBQSxNQWdDQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxDQUFBLENBaEM1QyxDQUFBO0FBQUEsTUFpQ0EsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsQ0FBQSxDQWpDNUMsQ0FBQTtBQUFBLE1Ba0NBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLENBQUEsQ0FsQzVDLENBQUE7QUFBQSxNQW1DQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxDQUFBLENBbkM1QyxDQUFBO0FBQUEsTUFvQ0EsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsQ0FBQSxDQXBDNUMsQ0FBQTtBQUFBLE1BcUNBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLENBQUEsQ0FyQzVDLENBQUE7QUFBQSxNQXNDQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxDQUFBLENBdEM1QyxDQUFBO0FBQUEsTUF1Q0EsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsQ0FBQSxDQXZDNUMsQ0FBQTtBQUFBLE1Bd0NBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLENBQUEsQ0F4QzVDLENBQUE7QUFBQSxNQXlDQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBekM1QyxDQUFBO0FBQUEsTUEwQ0EsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsRUFBQSxDQTFDNUMsQ0FBQTtBQUFBLE1BMkNBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLEVBQUEsQ0EzQzVDLENBQUE7QUFBQSxNQTRDQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBNUM1QyxDQUFBO0FBQUEsTUE2Q0EsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsRUFBQSxDQTdDNUMsQ0FBQTtBQUFBLE1BOENBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLEVBQUEsQ0E5QzVDLENBQUE7QUFBQSxNQStDQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBL0M1QyxDQUFBO0FBQUEsTUFnREEsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsRUFBQSxDQWhENUMsQ0FBQTtBQUFBLE1Ba0RBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLEVBQUEsQ0FsRDVDLENBQUE7QUFBQSxNQW1EQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBbkQ1QyxDQUFBO0FBQUEsTUFvREEsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsRUFBQSxDQXBENUMsQ0FBQTtBQUFBLE1BcURBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLEVBQUEsQ0FyRDVDLENBQUE7QUFBQSxNQXNEQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBdEQ1QyxDQUFBO0FBQUEsTUF1REEsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsRUFBQSxDQXZENUMsQ0FBQTtBQUFBLE1BeURBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLEVBQUEsQ0F6RDVDLENBQUE7QUFBQSxNQTBEQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBMUQ1QyxDQUFBO0FBQUEsTUEyREEsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsRUFBQSxDQTNENUMsQ0FBQTtBQUFBLE1BNERBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLEVBQUEsQ0E1RDVDLENBQUE7QUFBQSxNQTZEQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBN0Q1QyxDQUFBO0FBQUEsTUE4REEsSUFBSSxDQUFDLE1BQU8sQ0FBQSxLQUFBLENBQU0sQ0FBQyxLQUFuQixHQUEyQixLQUFNLENBQUEsU0FBQSxDQUFXLENBQUEsRUFBQSxDQTlENUMsQ0FBQTtBQUFBLE1BK0RBLElBQUksQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFNLENBQUMsS0FBbkIsR0FBMkIsS0FBTSxDQUFBLFNBQUEsQ0FBVyxDQUFBLEVBQUEsQ0EvRDVDLENBQUE7QUFBQSxNQW9FQSxJQUFJLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBTSxDQUFDLEtBQW5CLEdBQTJCLEtBQU0sQ0FBQSxTQUFBLENBQVcsQ0FBQSxFQUFBLENBcEU1QyxDQUFBO0FBQUEsTUF5RUEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFaLENBQUEsQ0F6RUEsQ0FBQTtBQUFBLE1BNEVBLEtBQUssQ0FBQyxHQUFOLENBQUEsQ0E1RUEsQ0FBQTthQTZFQSxLQUFLLENBQUMsS0FBTixDQUFBLEVBOUVZO0lBQUEsQ0F0Q2QsQ0FBQTtBQXNIQSxJQUFBLElBQUksVUFBSjtBQUNFLE1BQUEsTUFBTSxDQUFDLEVBQVAsQ0FBVSxjQUFWLEVBQTBCLFNBQUMsWUFBRCxHQUFBO0FBRXhCLFFBQUEsTUFBTSxDQUFDLFlBQVAsR0FBc0IsWUFBdEIsQ0FBQTtBQUFBLFFBRUEsUUFBQSxDQUFBLENBRkEsQ0FBQTtlQUdBLFdBQUEsQ0FBWSxZQUFaLEVBTHdCO01BQUEsQ0FBMUIsQ0FBQSxDQURGO0tBQUEsTUFBQTtBQVVFLE1BQUEsZUFBZSxDQUFDLEVBQWhCLENBQW1CLE9BQW5CLEVBQTRCLFNBQUMsUUFBRCxHQUFBO0FBSzFCLFlBQUEsWUFBQTtBQUFBLFFBQUEsWUFBQSxHQUFlLFFBQVEsQ0FBQyxHQUFULENBQUEsQ0FBZixDQUFBO0FBQUEsUUFDQSxNQUFNLENBQUMsWUFBUCxHQUFzQixZQUR0QixDQUFBO0FBQUEsUUFJQSxRQUFBLENBQUEsQ0FKQSxDQUFBO2VBS0EsV0FBQSxDQUFZLFlBQVosRUFWMEI7TUFBQSxDQUE1QixDQUFBLENBVkY7S0F0SEE7QUFBQSxJQTZJQSxDQUFBLENBQUUsZUFBRixDQUFrQixDQUFDLEVBQW5CLENBQXNCLFdBQXRCLEVBQW1DLFNBQUEsR0FBQTthQUNqQyxXQUFBLENBQVksTUFBTSxDQUFDLFlBQW5CLEVBRGlDO0lBQUEsQ0FBbkMsQ0E3SUEsQ0FBQTtBQUFBLElBZ0pBLENBQUEsQ0FBRSxvQkFBRixDQUF1QixDQUFDLEVBQXhCLENBQTJCLFdBQTNCLEVBQXdDLFNBQUEsR0FBQTtBQUN0QyxNQUFBLElBQUcsQ0FBQSxDQUFFLG9CQUFGLENBQXVCLENBQUMsR0FBeEIsQ0FBQSxDQUFBLEtBQWlDLElBQXBDO0FBQ0UsUUFBQSxJQUFJLFFBQVEsQ0FBQyx1QkFBYjtpQkFDRSxRQUFRLENBQUMsY0FBVCxDQUF3QixnQkFBeEIsQ0FBeUMsQ0FBQyx1QkFBMUMsQ0FBQSxFQURGO1NBREY7T0FBQSxNQUFBO0FBSUUsUUFBQSxJQUFJLFFBQVEsQ0FBQyx1QkFBYjtpQkFDRSxRQUFRLENBQUMsb0JBQVQsQ0FBQSxFQURGO1NBSkY7T0FEc0M7SUFBQSxDQUF4QyxDQWhKQSxDQUFBO0FBQUEsSUF3SkEsQ0FBQSxDQUFFLFFBQUYsQ0FBVyxDQUFDLEVBQVosQ0FBZSx3QkFBZixFQUF5QyxTQUFBLEdBQUE7QUFDdkMsTUFBQSxJQUFJLFFBQVEsQ0FBQyxrQkFBYjtBQUNFLFFBQUEsVUFBQSxDQUFXLGVBQVgsRUFBNEIsR0FBNUIsQ0FBQSxDQUFBO2VBQ0EsQ0FBQSxDQUFFLG9CQUFGLENBQXVCLENBQUMsR0FBeEIsQ0FBNEIsSUFBNUIsQ0FBaUMsQ0FBQyxNQUFsQyxDQUF5QyxTQUF6QyxFQUZGO09BQUEsTUFBQTtBQUlFLFFBQUEsVUFBQSxDQUFXLGVBQVgsRUFBNEIsR0FBNUIsQ0FBQSxDQUFBO2VBQ0EsQ0FBQSxDQUFFLG9CQUFGLENBQXVCLENBQUMsR0FBeEIsQ0FBNEIsS0FBNUIsQ0FBa0MsQ0FBQyxNQUFuQyxDQUEwQyxTQUExQyxFQUxGO09BRHVDO0lBQUEsQ0FBekMsQ0F4SkEsQ0FBQTtXQWlLQSxDQUFDLENBQUMsTUFBRixDQUFBLEVBcEt3QztFQUFBLENBQXhCLEVBcUtoQixRQUFBLEdBQVcsU0FBQyxJQUFELEVBQU8sS0FBUCxFQUFjLElBQWQsR0FBQTtXQUNYLENBQUEsQ0FBRSxPQUFGLENBQVUsQ0FBQyxJQUFYLENBQWdCLFVBQUEsR0FBYSxJQUFiLEdBQW9CLEdBQXBCLEdBQTBCLEtBQTFDLEVBRFc7RUFBQSxDQXJLSyxFQS9CQTtBQUFBLENBQXBCLENBN0dBLENBQUEiLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICJ1c2Vfc29ja2V0ID0gdHJ1ZTtcblxuaWYgKHVzZV9zb2NrZXQpXG4gIHNvY2tldCA9IGlvLmNvbm5lY3QoJzo2MDYwJyk7XG5lbHNlXG4gICNcbiAgIyBJbml0IEZpcmViYXNlXG4gICNcbiAgd2luZG93LnNlcmlhbF9zdGF0ZVJlZiA9IG5ldyBGaXJlYmFzZSgnaHR0cDovL2RyYy1odWJvLmZpcmViYXNlSU8uY29tL3NlcmlhbF9zdGF0ZScpXG5cbndpbmRvdy5sZWRUaW1lb3V0SWQgPSBudWxsO1xuZmxhc2hMRUQgPSAoKSAtPlxuICAjIENhbmNlbCB0aGUgcHJldmlvdXMgdGltZW91dC5cbiAgd2luZG93LmNsZWFyVGltZW91dCh3aW5kb3cubGVkVGltZW91dElkKVxuICAkKCcjbGVkJykuc2hvdygpXG4gICMgSWYgd2UgZG9uJ3QgZ2V0IG1vcmUgZGF0YSBzb29uLCBoaWRlIHRoZSBMRUQuXG4gIHdpbmRvdy5sZWRUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpLT5cbiAgICAkKCcjbGVkJykuaGlkZSgpXG4gICwgMTAwKVxuXG4jIFRPRE86IG1ha2UgdGhpcyBhIGZ1bmN0aW9uXG4jICMgaHR0cDovL3RocmVlanMub3JnL2RvY3MvI1JlZmVyZW5jZS9FeHRyYXMuR2VvbWV0cmllcy9DeWxpbmRlckdlb21ldHJ5XG4jIHJheXggPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSguMDEsIC4wMSwgLjEsIDI0LCAxLCBmYWxzZSksXG4jICBuZXcgVEhSRUUuTWVzaE5vcm1hbE1hdGVyaWFsKCkpXG4jIGMuc2NlbmUuYWRkKHJheXgpXG5jbGFzcyBGVF9TZW5zb3JcbiAgY29uc3RydWN0b3I6IChAbmFtZSkgLT5cbiAgICAjIFRPRE86IFVzZSBjeWxpbmRlciB0byBtYWtlIGl0IHRoaWNrZXI/XG4gICAgQG1feF9vYmogPSBuZXcgVEhSRUUuQXJyb3dIZWxwZXIobmV3IFRIUkVFLlZlY3RvcjMoMSwwLDApLCBuZXcgVEhSRUUuVmVjdG9yMygwLDAsMCksMC4xNSwweEZGMDAwMClcbiAgICBAbV95X29iaiA9IG5ldyBUSFJFRS5BcnJvd0hlbHBlcihuZXcgVEhSRUUuVmVjdG9yMygwLDEsMCksIG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwwKSwwLjE1LDB4MDBGRjAwKVxuICAgIEBmX3pfb2JqID0gbmV3IFRIUkVFLkFycm93SGVscGVyKG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwtMSksIG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwwKSwwLjE1LDB4MDAwMEZGKVxuICAgIEBheGlzID0gbmV3IFRIUkVFLk9iamVjdDNEKClcbiAgICBAYXhpcy5hZGQoQG1feF9vYmopXG4gICAgQGF4aXMuYWRkKEBtX3lfb2JqKVxuICAgIEBheGlzLmFkZChAZl96X29iailcbiAgdXBkYXRlQ29sb3I6IChvKSAtPlxuICAgICMgR2V0IG14X21pbiwgbXhfbWF4LCBldGNcbiAgICAjIFNjYWxlIFxuICAgIG14X2dyYWRpZW50ID0gbGVycChvLm14X21pbiwgby5teF9tYXgsIDAsIEBtX3gpXG4gICAgIyBjb25zb2xlLmxvZyhcIm14X2dyYWRpZW50OiAje214X2dyYWRpZW50fVwiKVxuICAgIG15X2dyYWRpZW50ID0gbGVycChvLm15X21pbiwgby5teV9tYXgsIDAsIEBtX3kpXG4gICAgZnpfZ3JhZGllbnQgPSBsZXJwKG8uZnpfbWluLCBvLmZ6X21heCwgMCwgQGZfeilcbiAgICAjIFNldCBjb2xvcnNcbiAgICBAYXhpcy5jaGlsZHJlblswXS5zZXRDb2xvcihjb21wdXRlQ29sb3IobXhfZ3JhZGllbnQpLmdldEhleCgpKVxuICAgIEBheGlzLmNoaWxkcmVuWzFdLnNldENvbG9yKGNvbXB1dGVDb2xvcihteV9ncmFkaWVudCkuZ2V0SGV4KCkpXG4gICAgQGF4aXMuY2hpbGRyZW5bMl0uc2V0Q29sb3IoY29tcHV0ZUNvbG9yKGZ6X2dyYWRpZW50KS5nZXRIZXgoKSlcbiAgICAjIHRlbXAgPSBuZXcgVEhSRUUuQ29sb3IoKVxuXG4gICAgIyB0ZW1wLnNldFJHQihteF9ncmFkaWVudCwoMS1teF9ncmFkaWVudCksMClcbiAgICAjIEBheGlzLmNoaWxkcmVuWzBdLnNldENvbG9yKHRlbXAuZ2V0SGV4KCkpXG5cbiAgICAjIHRlbXAuc2V0UkdCKG15X2dyYWRpZW50LCgxLW15X2dyYWRpZW50KSwwKVxuICAgICMgQGF4aXMuY2hpbGRyZW5bMV0uc2V0Q29sb3IodGVtcC5nZXRIZXgoKSlcblxuICAgICMgdGVtcC5zZXRSR0IoZnpfZ3JhZGllbnQsKDEtZnpfZ3JhZGllbnQpLDApXG4gICAgIyBAYXhpcy5jaGlsZHJlblsyXS5zZXRDb2xvcih0ZW1wLmdldEhleCgpKVxuXG5jb21wdXRlQ29sb3IgPSAodCkgLT5cbiAgdGVtcCA9IG5ldyBUSFJFRS5Db2xvcigpXG4gIHkgPSAkKCcjY29sb3JfbGltaXRzIC55X3RocmVzaG9sZCcpLnZhbCgpXG4gIGlmIHQgPiB5XG4gICAgY29uc29sZS5sb2coXCJ0PnlcIilcbiAgICB0ZW1wLnNldFJHQihcbiAgICAgIDEsXG4gICAgICAxLWxlcnAoeSwxLDAsdCksXG4gICAgICAwKVxuICAgIGNvbnNvbGUubG9nKHRlbXApXG4gIGVsc2VcbiAgICB0ZW1wLnNldFJHQihcbiAgICAgIGxlcnAoMCx5LDAsdCksXG4gICAgICAxLFxuICAgICAgMClcbiAgcmV0dXJuIHRlbXBcbmxlcnAgPSAobWluLG1heCx6ZXJvLHQpIC0+XG4gIGlmIHQgPiBtYXhcbiAgICB0ID0gbWF4XG4gIGlmIHQgPCBtaW5cbiAgICB0ID0gbWluXG4gIGlmIHQgPCB6ZXJvXG4gICAgcmV0dXJuIE1hdGgubWluKCh6ZXJvLXQpLyh6ZXJvLW1pbiksMSlcbiAgZWxzZVxuICAgIHJldHVybiBNYXRoLm1pbigodC16ZXJvKS8obWF4LXplcm8pLDEpXG5cbmV4dHJhY3RMaW1pdHMgPSAoZWwpIC0+XG4gIG8gPSB7fVxuICBvLm14X21pbiA9ICQoZWwpLmZpbmQoXCIubV94X21pblwiKS52YWwoKVxuICBvLm14X21heCA9ICQoZWwpLmZpbmQoXCIubV94X21heFwiKS52YWwoKVxuICAjIGNvbnNvbGUubG9nKFwibXhfbWluOiAje214X21pbn1cIilcbiAgIyBjb25zb2xlLmxvZyhcIm14X21heDogI3tteF9tYXh9XCIpXG4gIG8ubXlfbWluID0gJChlbCkuZmluZChcIi5tX3lfbWluXCIpLnZhbCgpXG4gIG8ubXlfbWF4ID0gJChlbCkuZmluZChcIi5tX3lfbWF4XCIpLnZhbCgpXG4gIG8uZnpfbWluID0gJChlbCkuZmluZChcIi5mX3pfbWluXCIpLnZhbCgpXG4gIG8uZnpfbWF4ID0gJChlbCkuZmluZChcIi5mX3pfbWF4XCIpLnZhbCgpXG4gIHJldHVybiBvXG5cbmFkYXB0Q2FudmFzU2l6ZSA9ICgpIC0+XG4gIGlmIChkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4pXG4gICAgd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKVxuICAgIGhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKVxuICBlbHNlXG4gICAgd2lkdGggPSBNYXRoLm1pbigkKHdpbmRvdykud2lkdGgoKSwgJCh3aW5kb3cpLmhlaWdodCgpKVxuICAgIGhlaWdodCA9IHdpZHRoXG4gICQoJyNodWJvX2NvbnRhaW5lcicpLndpZHRoKHdpZHRoKVxuICAkKCcjaHVib19jb250YWluZXInKS5oZWlnaHQoaGVpZ2h0KVxuICBodWJvLmNhbnZhcy5yZXNpemUod2lkdGgsIGhlaWdodClcblxuI1xuIyBNQUlOXG4jXG4kKCBkb2N1bWVudCApLnJlYWR5ICgpIC0+XG4gICNcbiAgIyBTZXR1cCBHVUlcbiAgI1xuICB3aW5kb3cuc3RhdHMgPSBuZXcgU3RhdHMoKTtcbiAgc3RhdHMuc2V0TW9kZSgwKTsgIyAwOiBmcHMsIDE6IG1zXG4gICQoJyNodWJvX2NvbnRhaW5lcicpLmFwcGVuZChzdGF0cy5kb21FbGVtZW50KVxuICBzdGF0cy5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJ1xuICBzdGF0cy5kb21FbGVtZW50LnN0eWxlLmZsb2F0ID0gJ3JpZ2h0J1xuXG4gICQod2luZG93KS5vbignb3JpZW50YXRpb25jaGFuZ2UgcmVzaXplJywgKCkgLT5cbiAgICAjIEkgYWRkZWQgYSBkZWxheSB0byB0aGlzIGVmZmVjdCBiZWNhdXNlIEkgZm91bmQgdGhhdCB0aGUgc2l6ZSByZWNhbGN1bGF0aW9uXG4gICAgIyBpcyBtb3JlIHJlbGlhYmxlIGlmIHdlIHdhaXQgYSBtb21lbnQgYWZ0ZXIgdGhlIG9yaWVudGF0aW9uIGNoYW5nZS5cbiAgICBzZXRUaW1lb3V0KGFkYXB0Q2FudmFzU2l6ZSwgNTAwKVxuICApO1xuXG4gICNcbiAgIyBTZXR1cCBIdWJvLWluLXRoZS1Ccm93c2VyXG4gICNcbiAgIyBJIGFwcG9sb2dpemUgdGhhdCB0aGlzIGNhbm5vdCBiZSBkb25lIHdpdGggQ1NTLlxuICBzaXplID0gTWF0aC5taW4oJCh3aW5kb3cpLndpZHRoKCksICQod2luZG93KS5oZWlnaHQoKSlcbiAgJCgnI2h1Ym9fY29udGFpbmVyJykud2lkdGgoc2l6ZSlcbiAgJCgnI2h1Ym9fY29udGFpbmVyJykuaGVpZ2h0KHNpemUpXG4gIGMgPSBuZXcgSHViby5EZWZhdWx0Q2FudmFzKFwiI2h1Ym9fY29udGFpbmVyXCIpXG5cbiAgd2luZG93LnRleHR1cmUgPSBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKCdjaGVja2VyYm9hcmQucG5nJywgVEhSRUUuTGluZWFyKVxuICB0ZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gIHRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgdGV4dHVyZS5yZXBlYXQueCA9IDIwO1xuICB0ZXh0dXJlLnJlcGVhdC55ID0gMjA7XG5cbiAgd2luZG93Lmh1Ym8gPSBuZXcgSHVibyhcImRpcmtcIiwgY2FsbGJhY2sgPSAtPiAgICBcbiAgICAjIE9uY2UgdGhlIFVSREYgaXMgY29tcGxldGVseSBsb2FkZWQsIHRoaXMgZnVuY3Rpb24gaXMgcnVuLlxuICAgICMgQWRkIHlvdXIgcm9ib3QgdG8gdGhlIGNhbnZhcy5cbiAgICBjLmFkZCBodWJvXG4gICAgIyBUT0RPOiBPdmVycmlkZSBXZWJHTFJcbiAgICAjIGh1Ym8uY2FudmFzLmNvbnRyb2xzLnRhcmdldD1uZXcgVEhSRUUuVmVjdG9yMygwLDAsLTAuNCk7XG4gICAgaHViby5hdXRvcmVuZGVyID0gZmFsc2VcbiAgICAkKFwiI2xvYWRcIikuaGlkZSgpXG5cbiAgICAjIENyZWF0ZSBhIGZsb29yXG4gICAgZmxvb3JHID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMjAsIDIwKVxuICAgIGZsb29yTSA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7bWFwOiB0ZXh0dXJlfSlcbiAgICB3aW5kb3cuZmxvb3IgPSBuZXcgVEhSRUUuTWVzaChmbG9vckcsIGZsb29yTSlcbiAgICAjIHdpbmRvdy5mbG9vciA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDMwMCwgMzAwKSwgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgwMDAwZmZ9KSk7XG4gICAgZmxvb3IucG9zaXRpb24ueiA9IC0xLjE3O1xuICAgIGZsb29yLm92ZXJkcmF3ID0gdHJ1ZTtcbiAgICBjLnNjZW5lLmFkZChmbG9vcik7XG5cbiAgICAjIENyZWF0ZSBGVCBkaXNwbGF5IGF4ZXNcbiAgICBpZiBub3QgaHViby5mdD9cbiAgICAgIGh1Ym8uZnQgPSB7fVxuICAgIGh1Ym8uZnQuSFVCT19GVF9SX0hBTkQgPSBuZXcgRlRfU2Vuc29yKClcbiAgICBodWJvLmZ0LkhVQk9fRlRfTF9IQU5EID0gbmV3IEZUX1NlbnNvcigpXG4gICAgaHViby5mdC5IVUJPX0ZUX1JfRk9PVCA9IG5ldyBGVF9TZW5zb3IoKVxuICAgIGh1Ym8uZnQuSFVCT19GVF9MX0ZPT1QgPSBuZXcgRlRfU2Vuc29yKClcblxuICAgICMgQWRkIHRoZSBoYW5kIEZUIHNlbnNvcnMgdG8gdGhlIHdyaXN0IHBpdGNoIGxpbmtzXG4gICAgaHViby5saW5rcy5Cb2R5X1JXUi5hZGQoaHViby5mdC5IVUJPX0ZUX1JfSEFORC5heGlzKVxuICAgIGh1Ym8ubGlua3MuQm9keV9MV1IuYWRkKGh1Ym8uZnQuSFVCT19GVF9MX0hBTkQuYXhpcylcbiAgICBodWJvLmxpbmtzLkJvZHlfUkFSLmFkZChodWJvLmZ0LkhVQk9fRlRfUl9GT09ULmF4aXMpXG4gICAgaHViby5saW5rcy5Cb2R5X0xBUi5hZGQoaHViby5mdC5IVUJPX0ZUX0xfRk9PVC5heGlzKVxuICAgICMgVGhlIG9yaWdpbiBvZiB3cmlzdCBwaXRjaCBsaW5rIGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHdyaXN0LCBzbyB3ZSB3aWxsXG4gICAgIyBvZmZzZXQgdGhlIGF4aXMgYSBiaXQgc28gaXQgaXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgaGFuZC5cbiAgICBodWJvLmZ0LkhVQk9fRlRfUl9IQU5ELmF4aXMucG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygwLjEsMCwwKVxuICAgIGh1Ym8uZnQuSFVCT19GVF9MX0hBTkQuYXhpcy5wb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKDAuMSwwLDApXG4gICAgaHViby5mdC5IVUJPX0ZUX1JfRk9PVC5heGlzLnBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoLTAuMDUsMCwtMC4xNSlcbiAgICBodWJvLmZ0LkhVQk9fRlRfTF9GT09ULmF4aXMucG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygtMC4wNSwwLC0wLjE1KVxuICAgICMgTG9va3MgbGlrZSB0aGUgd3Jpc3RzIG5lZWQgc29tZSByb3RhdGlvbiB0b28uXG4gICAgaHViby5mdC5IVUJPX0ZUX1JfSEFORC5heGlzLnJvdGF0aW9uLnkgPSAtTWF0aC5QSS8yXG4gICAgaHViby5mdC5IVUJPX0ZUX0xfSEFORC5heGlzLnJvdGF0aW9uLnkgPSAtTWF0aC5QSS8yXG5cbiAgICB1cGRhdGVNb2RlbCA9IChzZXJpYWxfc3RhdGUpIC0+XG4gICAgICBzdGF0ZSA9IEpTT04ucGFyc2Uoc2VyaWFsX3N0YXRlKTtcbiAgICAgICMgY29uc29sZS5sb2coc3RhdGUpO1xuXG4gICAgICBqb2ludFR5cGUgPSAkKCcjam9pbnQtdG9nZ2xlJykudmFsKCkgIydyZWYnICMgb3IgJ3BvcydcblxuICAgICAgIyBGVFxuICAgICAgaGFuZF9saW1pdHMgPSBleHRyYWN0TGltaXRzKCQoJyNmdF9oYW5kX2xpbWl0cycpKVxuICAgICAgZm9vdF9saW1pdHMgPSBleHRyYWN0TGltaXRzKCQoJyNmdF9mb290X2xpbWl0cycpKVxuICAgICAgaHViby5mdFtcIkhVQk9fRlRfUl9IQU5EXCJdLm1feCA9IHN0YXRlLmZ0WzBdXG4gICAgICAjICQoJyNodWdlX2Rpc3BsYXknKS5odG1sKHN0YXRlLmZ0WzBdKTtcbiAgICAgIGh1Ym8uZnRbXCJIVUJPX0ZUX1JfSEFORFwiXS5tX3kgPSBzdGF0ZS5mdFsxXVxuICAgICAgaHViby5mdFtcIkhVQk9fRlRfUl9IQU5EXCJdLmZfeiA9IHN0YXRlLmZ0WzJdXG4gICAgICBodWJvLmZ0W1wiSFVCT19GVF9SX0hBTkRcIl0udXBkYXRlQ29sb3IoaGFuZF9saW1pdHMpXG4gICAgICBodWJvLmZ0W1wiSFVCT19GVF9MX0hBTkRcIl0ubV94ID0gc3RhdGUuZnRbM11cbiAgICAgIGh1Ym8uZnRbXCJIVUJPX0ZUX0xfSEFORFwiXS5tX3kgPSBzdGF0ZS5mdFs0XVxuICAgICAgaHViby5mdFtcIkhVQk9fRlRfTF9IQU5EXCJdLmZfeiA9IHN0YXRlLmZ0WzVdXG4gICAgICBodWJvLmZ0W1wiSFVCT19GVF9MX0hBTkRcIl0udXBkYXRlQ29sb3IoaGFuZF9saW1pdHMpXG4gICAgICBodWJvLmZ0W1wiSFVCT19GVF9SX0ZPT1RcIl0ubV94ID0gc3RhdGUuZnRbNl1cbiAgICAgIGh1Ym8uZnRbXCJIVUJPX0ZUX1JfRk9PVFwiXS5tX3kgPSBzdGF0ZS5mdFs3XVxuICAgICAgaHViby5mdFtcIkhVQk9fRlRfUl9GT09UXCJdLmZfeiA9IHN0YXRlLmZ0WzhdXG4gICAgICBodWJvLmZ0W1wiSFVCT19GVF9SX0ZPT1RcIl0udXBkYXRlQ29sb3IoZm9vdF9saW1pdHMpXG4gICAgICBodWJvLmZ0W1wiSFVCT19GVF9MX0ZPT1RcIl0ubV94ID0gc3RhdGUuZnRbOV1cbiAgICAgIGh1Ym8uZnRbXCJIVUJPX0ZUX0xfRk9PVFwiXS5tX3kgPSBzdGF0ZS5mdFsxMF1cbiAgICAgIGh1Ym8uZnRbXCJIVUJPX0ZUX0xfRk9PVFwiXS5mX3ogPSBzdGF0ZS5mdFsxMV1cbiAgICAgIGh1Ym8uZnRbXCJIVUJPX0ZUX0xfRk9PVFwiXS51cGRhdGVDb2xvcihmb290X2xpbWl0cylcblxuICAgICAgIyBJTVVcbiAgICAgIGh1Ym8ubGlua3MuQm9keV9Ub3Jzby5yb3RhdGlvbi54ID0gc3RhdGUuaW11WzJdLmFfeDtcbiAgICAgIGh1Ym8ubGlua3MuQm9keV9Ub3Jzby5yb3RhdGlvbi55ID0gc3RhdGUuaW11WzJdLmFfeTtcblxuICAgICAgIyBKb2ludHNcbiAgICAgIGh1Ym8ubW90b3JzW1wiV1NUXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVswXVxuICAgICAgaHViby5tb3RvcnNbXCJOS1lcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzFdXG4gICAgICBodWJvLm1vdG9yc1tcIk5LMVwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMl1cbiAgICAgIGh1Ym8ubW90b3JzW1wiTksyXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVszXVxuICAgICAgaHViby5tb3RvcnNbXCJMU1BcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzRdXG4gICAgICBodWJvLm1vdG9yc1tcIkxTUlwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bNV1cbiAgICAgIGh1Ym8ubW90b3JzW1wiTFNZXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVs2XVxuICAgICAgaHViby5tb3RvcnNbXCJMRUJcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzddXG4gICAgICBodWJvLm1vdG9yc1tcIkxXWVwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bOF1cbiAgICAgIGh1Ym8ubW90b3JzW1wiTFdSXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVs5XVxuICAgICAgaHViby5tb3RvcnNbXCJMV1BcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzEwXVxuICAgICAgaHViby5tb3RvcnNbXCJSU1BcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzExXVxuICAgICAgaHViby5tb3RvcnNbXCJSU1JcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzEyXVxuICAgICAgaHViby5tb3RvcnNbXCJSU1lcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzEzXVxuICAgICAgaHViby5tb3RvcnNbXCJSRUJcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzE0XVxuICAgICAgaHViby5tb3RvcnNbXCJSV1lcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzE1XVxuICAgICAgaHViby5tb3RvcnNbXCJSV1JcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzE2XVxuICAgICAgaHViby5tb3RvcnNbXCJSV1BcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzE3XVxuICAgICAgIyBtaW5kIHRoZSBnYXBcbiAgICAgIGh1Ym8ubW90b3JzW1wiTEhZXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVsxOV1cbiAgICAgIGh1Ym8ubW90b3JzW1wiTEhSXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVsyMF1cbiAgICAgIGh1Ym8ubW90b3JzW1wiTEhQXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVsyMV1cbiAgICAgIGh1Ym8ubW90b3JzW1wiTEtOXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVsyMl1cbiAgICAgIGh1Ym8ubW90b3JzW1wiTEFQXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVsyM11cbiAgICAgIGh1Ym8ubW90b3JzW1wiTEFSXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVsyNF1cbiAgICAgICMgbWluZCB0aGUgZ2FwXG4gICAgICBodWJvLm1vdG9yc1tcIlJIWVwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMjZdXG4gICAgICBodWJvLm1vdG9yc1tcIlJIUlwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMjddXG4gICAgICBodWJvLm1vdG9yc1tcIlJIUFwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMjhdXG4gICAgICBodWJvLm1vdG9yc1tcIlJLTlwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMjldXG4gICAgICBodWJvLm1vdG9yc1tcIlJBUFwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMzBdXG4gICAgICBodWJvLm1vdG9yc1tcIlJBUlwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMzFdXG4gICAgICBodWJvLm1vdG9yc1tcIlJGMVwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMzJdXG4gICAgICAjIGh1Ym8ubW90b3JzW1wiUkYyXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVszM11cbiAgICAgICMgaHViby5tb3RvcnNbXCJSRjNcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzM0XSAgICBcbiAgICAgICMgaHViby5tb3RvcnNbXCJSRjRcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzM1XVxuICAgICAgIyBodWJvLm1vdG9yc1tcIlJGNVwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMzZdXG4gICAgICBodWJvLm1vdG9yc1tcIkxGMVwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bMzddXG4gICAgICAjIGh1Ym8ubW90b3JzW1wiTEYyXCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVszOF1cbiAgICAgICMgaHViby5tb3RvcnNbXCJMRjNcIl0udmFsdWUgPSBzdGF0ZVtqb2ludFR5cGVdWzM5XVxuICAgICAgIyBodWJvLm1vdG9yc1tcIkxGNFwiXS52YWx1ZSA9IHN0YXRlW2pvaW50VHlwZV1bNDBdXG4gICAgICAjIGh1Ym8ubW90b3JzW1wiTEY1XCJdLnZhbHVlID0gc3RhdGVbam9pbnRUeXBlXVs0MV1cbiAgICAgIGh1Ym8uY2FudmFzLnJlbmRlcigpXG5cbiAgICAgICMgVXBkYXRlIEZQUyBjb3VudGVyXG4gICAgICBzdGF0cy5lbmQoKTtcbiAgICAgIHN0YXRzLmJlZ2luKCk7XG5cbiAgICBpZiAodXNlX3NvY2tldClcbiAgICAgIHNvY2tldC5vbignc2VyaWFsX3N0YXRlJywgKHNlcmlhbF9zdGF0ZSkgLT5cbiAgICAgICAgIyBjb25zb2xlLmxvZyhzZXJpYWxfc3RhdGUpXG4gICAgICAgIHdpbmRvdy5zZXJpYWxfc3RhdGUgPSBzZXJpYWxfc3RhdGVcbiAgICAgICAgIyBMRUQgc3RhdHVzIGluZGljYXRvclxuICAgICAgICBmbGFzaExFRCgpXG4gICAgICAgIHVwZGF0ZU1vZGVsKHNlcmlhbF9zdGF0ZSlcbiAgICAgIClcbiAgICBlbHNlXG4gICAgICAjIENyZWF0ZSB0aGUgRmlyZWJhc2UgdXBkYXRlXG4gICAgICBzZXJpYWxfc3RhdGVSZWYub24oJ3ZhbHVlJywgKHNuYXBzaG90KSAtPlxuICAgICAgICAjIE5PVEU6IFdpdGggdGhlIHN0YXRzIGxpYnJhcnksIHdlIGFyZSB0aW1pbmcgdGhlIGludGVydmFsXG4gICAgICAgICMgYmV0d2VlbiBydW5zIG9mIHRoaXMgZnVuY3Rpb24sIG5vdCB0aGUgdGltZSBuZWVkZWQgdG8gcmVuZGVyXG4gICAgICAgICMgaXQuIFRoZXJlZm9yZSwgd2UgZW5kIHJlY29yZGluZyBhdCB0aGUgYmVnaW5uaW5nIGFuZCBiZWdpbiByZWNvcmRpbmdcbiAgICAgICAgIyByaWdodCBhd2F5LlxuICAgICAgICBzZXJpYWxfc3RhdGUgPSBzbmFwc2hvdC52YWwoKVxuICAgICAgICB3aW5kb3cuc2VyaWFsX3N0YXRlID0gc2VyaWFsX3N0YXRlXG4gICAgICAgICMgY29uc29sZS5sb2coc2VyaWFsX3N0YXRlKVxuICAgICAgICAjIExFRCBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICAgIGZsYXNoTEVEKClcbiAgICAgICAgdXBkYXRlTW9kZWwoc2VyaWFsX3N0YXRlKVxuICAgICAgKVxuXG4gICAgJCgnI2pvaW50LXRvZ2dsZScpLm9uICdzbGlkZXN0b3AnLCAoKSAtPlxuICAgICAgdXBkYXRlTW9kZWwod2luZG93LnNlcmlhbF9zdGF0ZSlcblxuICAgICQoJyNmdWxsc2NyZWVuLXRvZ2dsZScpLm9uICdzbGlkZXN0b3AnLCAoKSAtPlxuICAgICAgaWYgJCgnI2Z1bGxzY3JlZW4tdG9nZ2xlJykudmFsKCkgPT0gXCJvblwiXG4gICAgICAgIGlmIChkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZClcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVib19jb250YWluZXInKS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpXG4gICAgICBlbHNlXG4gICAgICAgIGlmIChkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZClcbiAgICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpXG5cbiAgICAkKGRvY3VtZW50KS5vbiAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsICgpIC0+XG4gICAgICBpZiAoZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuKVxuICAgICAgICBzZXRUaW1lb3V0KGFkYXB0Q2FudmFzU2l6ZSwgNTAwKVxuICAgICAgICAkKCcjZnVsbHNjcmVlbi10b2dnbGUnKS52YWwoXCJvblwiKS5zbGlkZXIoXCJyZWZyZXNoXCIpXG4gICAgICBlbHNlXG4gICAgICAgIHNldFRpbWVvdXQoYWRhcHRDYW52YXNTaXplLCA1MDApXG4gICAgICAgICQoJyNmdWxsc2NyZWVuLXRvZ2dsZScpLnZhbChcIm9mZlwiKS5zbGlkZXIoXCJyZWZyZXNoXCIpXG5cbiAgICAjIFVwZGF0ZSB0aGUgcmVuZGVyaW5nIHRvIHJlZmxlY3QgYW55IGNoYW5nZXMgdG8gSHViby5cbiAgICBjLnJlbmRlcigpXG4gICwgcHJvZ3Jlc3MgPSAoc3RlcCwgdG90YWwsIG5vZGUpIC0+XG4gICAgJChcIiNsb2FkXCIpLmh0bWwgXCJMb2FkaW5nIFwiICsgc3RlcCArIFwiL1wiICsgdG90YWxcbiAgKVxuIgogIF0KfQ==